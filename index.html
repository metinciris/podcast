// loadVoices fonksiyonunda aşağıdaki değişikliği yapın
function loadVoices() {
    voices = synth.getVoices();
    
    // Türkçe ses bulunamadığında bile Türkçe telaffuz için optimize et
    selectedVoice = voices.find(voice => 
        voice.lang === 'tr-TR' || 
        voice.lang === 'tr' || 
        voice.name.toLowerCase().includes('turkish') ||
        voice.name.toLowerCase().includes('türk')
    );
    
    // Varsayılan ses
    if (!selectedVoice) {
        selectedVoice = voices.find(voice => voice.default) || voices[0];
        console.warn('Türkçe ses bulunamadı, varsayılan ses kullanılıyor.');
        
        // Varsayılan sesi Türkçe telaffuz için optimize et
        if (selectedVoice) {
            console.log('Varsayılan ses Türkçe telaffuz için optimize ediliyor...');
        }
    }
    
    // Ses bulunduysa logla
    if (selectedVoice) {
        console.log('Seçilen ses:', selectedVoice.name, selectedVoice.lang);
    }
}

// createUtterance fonksiyonunda bu değişiklikleri yapın
function createUtterance(text) {
    utterance = new SpeechSynthesisUtterance(text);
    
    // Seçilen sesi ayarla
    if (selectedVoice) {
        utterance.voice = selectedVoice;
    }
    
    // Türkçe telaffuz için optimize et (daha iyi Türkçe aksanı için)
    utterance.lang = 'tr-TR'; // Dili zorla Türkçe yap
    utterance.pitch = 1.0;    // Normal ton
    utterance.rate = 0.85;    // Biraz daha yavaş konuşma hızı (0.9 yerine 0.85)
    
    // Varsayılan ses kullanıldığında bazı Türkçe karakterlerin telaffuzunu iyileştir
    if (!selectedVoice || selectedVoice.lang.substring(0,2) !== 'tr') {
        // Daha yavaş konuşarak anlaşılırlığı artır
        utterance.rate = 0.8;
    }
    
    // Ses seviyesi
    utterance.volume = parseFloat(volumeControl.value);
    
    // ...diğer kodlar...
}
